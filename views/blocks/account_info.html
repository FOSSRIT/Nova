<div style="position: relative; display: inline;">
{{if not auth.is_logged_in() and not request.function=='user':}}
    {{=A("Login/Signup", _href="#", _onclick="$('#account_info_pane').toggle('slow')")}}
    
    <div id="account_info_pane" style="display: none; position: absolute; top:20px; right: 0px; background: #fff; border: 1px solid #000; z-index: 1000; width: 350px; padding: 10px;">
    {{form=auth.login(next=request.url)}}
    
        <form action="{{=URL('default','user',args='login')}}" enctype="multipart/form-data" method="post">
        {{###=form.custom.begin}}
            <label for="auth_user_username">{{=form.custom.label.username}}</label> 
            {{=form.custom.widget.username}} <input type="submit" value="Login" tabindex=3/><br />
            <label for="auth_user_password">{{=form.custom.label.password}}</label>
            {{=form.custom.widget.password}} <input type="button" value="Signup"  tabindex=4 onclick="document.location='{{=URL('default','user',args='login', vars={'_next':request.url})}}'"><br />

        {{=form.custom.end}}
    
    </div>
    </div>
{{elif auth.is_logged_in():}}

        {{=A(get_home_node().name, _href="#", _onclick="$('#account_info_pane').toggle('slow')")}}
    
    <div id="account_info_pane" style="display: none; position: absolute; top:20px; right: 0px; background: #fff; border: 1px solid #000; z-index: 1000; width:350px; padding: 10px">
    {{=A("My Page", _href=URL('main', 'nodeid', args=auth.user.home_node))}} |
    {{=A('My Files', _href=URL('edit','dropbox'), _title="Storage space, for files that you may want to link to.")}} |
    {{=A('Watched Pages', _href=URL('main','watched'), _title="When you watch a  page, it's history accumulates on your very own WatchedPages report.  You can also get a daily update. ")}} |
    {{=A("Logout", _href=URL('default','user',args='logout'))}}</div>
    </div>
{{pass}}
